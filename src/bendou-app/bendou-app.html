<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../src/paper-page/paper-page.html">
<link rel="import" href="../../src/scaledown-img/scaledown-img.html">
<!--<link rel="import" href="scrollIcon.html">-->

<dom-module id="bendou-app">
    <template>
            <style include="iron-flex iron-flex-alignment iron-positioning">
            :host {
                display: block;
                position: inherit;
                background-color: white;
            }


            #welcomePage > * {
                /*Positioning*/
                position: absolute;
                display: block;
                left: 0;
                right: 0;
                margin-left: auto;
                margin-right: auto;
            }

            #welcomeBg {
                /*Positioning*/
                z-index: 0;

                /*Sizing*/
                min-width: 101vw;
                top: -33vh;
                min-height: 100vh;
                max-height: 1000vh;

                /*Animation*/
                -webkit-animation: blur 6s forwards;
            }

            @-webkit-keyframes blur {
                100% {
                    min-width:0vw;
                    max-height: 100vh;
                    top: -0vh;
                }  50%  {
                    min-width:101vw;
                    max-height: 1000vh;
                    top: -0vh;
                    -webkit-filter: blur(0px);
                } 0% {
                    -webkit-filter: blur(10px);
                }
            }

            #scrollButton {
                bottom: 7%;
                width: 75px;
                height: 75px;
            }

            #contactSection {
                background-color: white;
            }
            #fullPicture {
                float: left;
                left: 0%;
                height: 100%;
            }
        </style>
        <!--Welcome page-->
        <app-drawer-layout>
            <paper-page pageNumber="0" id="welcomePage">
                <img src="./images/welcomeLetter.png" id="welcomeLetter" style="z-index:1000;" />
                <img src="./images/welcomeBgAlone.jpg"  id="welcomeBg"  class="flex"/>
                <paper-icon-button id="scrollButton" icon="my-icons:wait" style="z-index:10000;"></paper-icon-button>
            </paper-page/>
            <!--Contact page-->
            <paper-page pageNumber="1" id="contactPage">
                <img src="./images/fullPicture.jpg" id="fullPicture" />
                <div id="contact">
                    <a href="contact@badouin.fr">contact@badouin.fr</a>
                </div>
            </paper-page/>
        </app-drawer-layout>
</template>


<script>
/**
* @customElement
* @polymer
*/
class BendouApp extends Polymer.Element {
    static get is() { return 'bendou-app'; }
    static get properties() {
        return {
            prop1: {
                type: String,
                value: 'bendou-app'
            }
        };
    }
    ready() {
        super.ready();
        console.log('ready');
        //Promise.all(this.$.welcomeBg.getAnimations().map()
        setTimeout(this.$.welcomeBg.scaleDown(), 3000);
    }
}

window.customElements.define(BendouApp.is, BendouApp);
</script>
</dom-module>
